# WHATSNet
WHATSNet: A Wavelet-guided Hybrid Attention Token Selector for Handwritten Mathematical Expression Recognition
Handwritten mathematical expression recognition (HMER) constitutes a fundamental component of intelligent human-machine systems, yet remains challenged by substantial intra-class variations in handwriting styles and persistent ambiguities among visually similar symbols. To address these limitations, this paper proposes WHATS-Net – a Wavelet-guided Hybrid Attention Token-Selector architecture integrated with Simple Recurrent Unit (SRU) decoding – that pioneers frequency-domain analysis for offline HMER. Departing from conventional spatial-domain approaches, our framework employs multi-scale wavelet decomposition to disentangle style-invariant structural patterns while suppressing handwriting-specific artifacts through adaptive frequency filtering. The SRU-based decoder synergistically combines cell state propagation and coverage attention mechanisms, enabling dynamic adjustment of historical state dependencies during sequential prediction. Ablation studies further validate the critical roles of wavelet-based feature disentanglement and recurrent coverage attention in performance enhancement. Comprehensive evaluations across CROHME 2014/2016/2019 benchmarks demonstrate statistically significant improvements of 5.02\%, 4.58\%, and 5.07\% in expression recognition rates over state-of-the-art baselines, respectively.

We will release the codes after the manuscript has been accepted, many thanks for your attention.


